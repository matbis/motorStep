[*] --> waitingInput

waitingInput -right-> forwarding : doStep_in && nSteps_in > 0
waitingInput -left-> rewinding : doRewind_in

forwarding -down-> delay : steps_count < nSteps_in &&  doRewind_in == 0
forwarding -up-> waitingInput : steps_count == nSteps_in 
forwarding -left-> rewinding : doRewind_in

rewinding -down-> delay : stopRewind == 0
rewinding -up-> waitingInput : stopRewind == 1

delay -down-> delay : counter_delay < delayDuration_in
delay -up-> forwarding : counter_delay == delayDuration_in && prevState == forwarding
delay -up-> rewinding : counter_delay == delayDuration_in && prevState == rewinding